<link rel="stylesheet" href="css/style.css">
<link rel="stylesheet" href="https://applylpgdealership.com/css/bootstrap.min.css">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.1/css/font-awesome.min.css">

<header class="header">

    <a href="#" class="logo">
        <img src="image/gas-cylinder.png">
        <strong>Gas</strong> Seva 
    </a>

    <nav class="navbar">
        <a href="index.html">home
        <a href="login.html">User Login</a>
    </nav>

    <div id="menu-btn" class="fas fa-bars"></div>

</header>


<section>
    <div class="container">
        <div class="row">

            <div class="col-md-6 offset-3">
                <div class="panel">
                    <p style="color:#000;">Don't have an account? <a href="register.html">Register Now</a></p>
                    <h3>Applicant Login Panel</h3>
                        <form method="post" action="login_dashboard.html" onsubmit="return foo()">
                        <input type="hidden" name="_token" value="rHmef2V5LY5dJsfw46OW852FQ97d9QfbvOu4CCAY">							
                        <div class="row">
                            <div class="col-md-12">
                                <input type="email" name="email" class="form-control" placeholder="Email ID" required>
                            </div>
                            <div class="col-md-12">
                                <input type="password" name="password" class="form-control " placeholder="Password" required>
                            </div>
                            <div class="col-md-12">
                                <div class="captcha" style="margin-bottom:10px;">
                                    <span><img src="https://applylpgdealership.com/captcha/default?dyglmto6" ></span>
                                    <button type="button" class="btn btn-success btn-refresh"><i class="fa fa-refresh"></i></button>
                                </div>
                                <input id="captcha" type="number" class="form-control " name="captcha" placeholder="Enter Captcha" required>
                            </div>
                            <div class="col-6 col-sm-6">
                                <button type="submit" class="btn btn-primary mt-20" onclick="login(this.form);">Login</button>
                            </div>					
                            <div class="col-6 col-sm-6 text-right">
                                <a href="#" style="margin-top:10px;display:block;">Forgot Password</a>
                            </div>					
                        </div>
                    </form>

                </div>			
            </div>
            
        </div>
    </div>
</section>

<!-- js file link  -->
<script src="js/script.js"></script>

<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
  import { getAuth, signInWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";

const firebaseConfig = {
  apiKey: "AIzaSyDPrHfZndZjBAOd92GkoUaVQqETkP0U8HM",
  authDomain: "apna-gas.firebaseapp.com",
  projectId: "apna-gas",
  storageBucket: "apna-gas.firebasestorage.app",
  messagingSenderId: "82723828298",
  appId: "1:82723828298:web:a002614bc101a17ad8acb3"
};

  const app = initializeApp(firebaseConfig);
  const auth = getAuth(app);

  const form = document.querySelector("form");

  form.addEventListener("submit", async (e) => {
    e.preventDefault();

    const email = form.querySelector('input[name="email"]').value;
    const password = form.querySelector('input[name="password"]').value;

    try {
      await signInWithEmailAndPassword(auth, email, password);
      alert("Login successful!");
      window.location.href = "index.html"; // or dashboard
    } catch (error) {
      alert("Login failed: " + error.message);
    }
  });
</script>
